{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('form');\nconst emailField = document.querySelector('input');\nconst messageField = document.querySelector('textarea');\n\nlet toSave = localStorage.getItem('feedback-form-state');\nif (toSave) {\n  toSave = JSON.parse(toSave);\n  if (toSave.email && toSave.message) {\n    emailField.value = toSave.email;\n    messageField.value = toSave.message;\n  } else {\n    localStorage.removeItem('feedback-form-state');\n    toSave = {\n      email: '',\n      message: '',\n    };\n  }\n} else {\n  toSave = {\n    email: '',\n    message: '',\n  };\n}\n\nform.addEventListener('input', e => {\n  const name = e.target.name;\n  const value = e.target.value.trim();\n\n  if (name === 'email') {\n    toSave.email = value;\n  } else if (name === 'message') {\n    toSave.message = value;\n  }\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(toSave));\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (toSave.email && toSave.message) {\n    console.log('submit', toSave);\n    emailField.value = '';\n    messageField.value = '';\n    toSave = {\n      email: '',\n      message: '',\n    };\n    localStorage.removeItem('feedback-form-state');\n  } else {\n    console.log('Error');\n  }\n});\n"],"names":["form","emailField","messageField","toSave","e","name","value","event"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAe,SAAS,cAAc,UAAU,EAEtD,IAAIC,EAAS,aAAa,QAAQ,qBAAqB,EACnDA,GACFA,EAAS,KAAK,MAAMA,CAAM,EACtBA,EAAO,OAASA,EAAO,SACzBF,EAAW,MAAQE,EAAO,MAC1BD,EAAa,MAAQC,EAAO,UAE5B,aAAa,WAAW,qBAAqB,EAC7CA,EAAS,CACP,MAAO,GACP,QAAS,EACf,IAGEA,EAAS,CACP,MAAO,GACP,QAAS,EACb,EAGAH,EAAK,iBAAiB,QAASI,GAAK,CAClC,MAAMC,EAAOD,EAAE,OAAO,KAChBE,EAAQF,EAAE,OAAO,MAAM,KAAI,EAE7BC,IAAS,QACXF,EAAO,MAAQG,EACND,IAAS,YAClBF,EAAO,QAAUG,GAGnB,aAAa,QAAQ,sBAAuB,KAAK,UAAUH,CAAM,CAAC,CACpE,CAAC,EAEDH,EAAK,iBAAiB,SAAUO,GAAS,CACvCA,EAAM,eAAc,EAEhBJ,EAAO,OAASA,EAAO,SACzB,QAAQ,IAAI,SAAUA,CAAM,EAC5BF,EAAW,MAAQ,GACnBC,EAAa,MAAQ,GACrBC,EAAS,CACP,MAAO,GACP,QAAS,EACf,EACI,aAAa,WAAW,qBAAqB,GAE7C,QAAQ,IAAI,OAAO,CAEvB,CAAC"}